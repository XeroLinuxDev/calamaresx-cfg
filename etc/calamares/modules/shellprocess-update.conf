# SPDX-FileCopyrightText: no
# SPDX-License-Identifier: CC0-1.0
#
# Full system update before installing user-selected packages
# This ensures the installed system has 0 updates available post-install
---
i18n:
     name: "Updating system packages..."
     name[de]: "Systempakete aktualisieren..."
     name[fr]: "Mise à jour des paquets système..."
     name[es]: "Actualizando paquetes del sistema..."
     name[ru]: "Обновление системных пакетов..."
     name[pt_BR]: "Atualizando pacotes do sistema..."

dontChroot: false
timeout: 7200

script:
    # Refresh package databases with forced refresh
    - command: "pacman -Syy --noconfirm"
      timeout: 600
    # Refresh keyring first to avoid signature issues
    - command: "pacman -S --noconfirm archlinux-keyring"
      timeout: 300
    # Full system upgrade
    - command: "pacman -Su --noconfirm --disable-download-timeout"
      timeout: 5400
